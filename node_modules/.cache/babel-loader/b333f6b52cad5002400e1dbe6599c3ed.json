{"remainingRequest":"/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/node_modules/babel-loader/lib/index.js!/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/src/utils/routerUtil.js","dependencies":[{"path":"/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/src/utils/routerUtil.js","mtime":1581493886695},{"path":"/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/node_modules/cache-loader/dist/cjs.js","mtime":1580791779218},{"path":"/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/node_modules/babel-loader/lib/index.js","mtime":1580791766093},{"path":"/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1580791774215}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.function.name\";\nimport { axios } from '@/utils/request'; // eslint-disable-next-line\n\nimport { UserLayout, BasicLayout, RouteView, BlankLayout, PageView } from '@/layouts'; // 前端路由表\n\nvar constantRouterComponents = {\n  // 基础页面 layout 必须引入\n  BasicLayout: BasicLayout,\n  // 基础页面布局，包含了头部导航，侧边栏和通知栏\n  BlankLayout: BlankLayout,\n  // 空白的布局\n  RouteView: RouteView,\n  // 空布局，专门为了二级菜单内容区自定义\n  PageView: PageView,\n  // 基础布局，包含了面包屑，和中间内容区 (slot)\n  UserLayout: UserLayout,\n  // 登陆注册页面的通用布局\n  // 你需要动态引入的页面组件\n  analysis: function analysis() {\n    return import('@/views/dashboard/Analysis');\n  },\n  workplace: function workplace() {\n    return import('@/views/dashboard/Workplace');\n  },\n  weclome: function weclome() {\n    return import('@/views/dashboard/Welcome');\n  },\n  monitor: function monitor() {\n    return import('@/views/dashboard/Monitor');\n  },\n  baseForm: function baseForm() {\n    return import('@/views/form/BasicForm');\n  },\n  stepForm: function stepForm() {\n    return import('@/views/form/stepForm/StepForm');\n  },\n  advancedForm: function advancedForm() {\n    return import('@/views/form/advancedForm/AdvancedForm.vue');\n  },\n  tableList: function tableList() {\n    return import('@/views/list/TableList');\n  },\n  standardList: function standardList() {\n    return import('@/views/list/StandardList');\n  },\n  cardList: function cardList() {\n    return import('@/views/list/CardList');\n  },\n  search: function search() {\n    return import('@/views/list/search/SearchLayout');\n  },\n  article: function article() {\n    return import('@/views/list/search/Article');\n  },\n  project: function project() {\n    return import('@/views/list/search/Projects');\n  },\n  application: function application() {\n    return import('@/views/list/search/Applications');\n  },\n  profileBasic: function profileBasic() {\n    return import('@/views/profile/basic/Index');\n  },\n  profileAdvanced: function profileAdvanced() {\n    return import('@/views/profile/advanced/Advanced');\n  },\n  resultSucc: function resultSucc() {\n    return import('@/views/result/Success');\n  },\n  resultErr: function resultErr() {\n    return import('@/views/result/Error');\n  },\n  error403: function error403() {\n    return import('@/views/exception/403');\n  },\n  error404: function error404() {\n    return import('@/views/exception/404');\n  },\n  error500: function error500() {\n    return import('@/views/exception/500');\n  },\n  center: function center() {\n    return import('@/views/account/center/Index');\n  },\n  settings: function settings() {\n    return import('@/views/account/settings/Index');\n  },\n  base: function base() {\n    return import('@/views/account/settings/BaseSetting');\n  },\n  security: function security() {\n    return import('@/views/account/settings/Security');\n  },\n  custom: function custom() {\n    return import('@/views/account/settings/Custom');\n  },\n  binding: function binding() {\n    return import('@/views/account/settings/Binding');\n  },\n  notification: function notification() {\n    return import('@/views/account/settings/Notification');\n  },\n  donateList: function donateList() {\n    return import('@/views/others/DonateList');\n  },\n  mifei: function mifei() {\n    return import('@/views/others/MiFei');\n  },\n  gnqc: function gnqc() {\n    return import('@/views/others/Gnqc');\n  } // system\n  // userList: () => import('@/views/system/UserList'),\n  // roleList: () => import('@/views/system/RoleList'),\n  // permissionList: () => import('@/views/system/PermissionList'),\n  // deptList: () => import('@/views/system/DeptList'),\n  // dictList: () => import('@/views/system/DictList'),\n  // distList: () => import('@/views/system/DistList'),\n  // configList: () => import('@/views/system/ConfigList'),\n  // ossList: () => import('@/views/system/OssList'),\n  // monitor\n  // operLogList: () => import('@/views/monitor/OperLogList'),\n  // loginLogList: () => import('@/views/monitor/LoginLogList'),\n  // gen\n  // genList: () => import('@/views/gen/GenList'),\n  // genEdit: () => import('@/views/gen/GenEdit')\n  // ...more\n  // 前端未找到页面路由（固定不用改）\n\n};\nvar notFoundRouter = {\n  path: '*',\n  redirect: '/404',\n  hidden: true // 根级菜单\n\n};\nvar rootRouter = {\n  'title': '首页',\n  'key': '',\n  'name': 'index',\n  'component': 'BasicLayout',\n  'redirect': '/dashboard/weclome',\n  'children': []\n  /**\n   * 获取后端路由信息的 axios API\n   * @returns {Promise}\n   */\n\n};\nexport var getRouterByUser = function getRouterByUser() {\n  return axios({\n    url: '/system/menu/user',\n    method: 'get',\n    dataType: 'json'\n    /* headers: {\n      'Access-Token': 'xxx'\n    }\n    */\n\n  });\n};\n/**\n * 获取路由菜单信息\n *\n * 1. 调用 getRouterByUser() 访问后端接口获得路由结构数组\n *    @see https://github.com/sendya/ant-design-pro-vue/blob/feature/dynamic-menu/public/dynamic-menu.json\n * 2. 调用\n * @returns {Promise<any>}\n */\n\nexport var generatorDynamicRouter = function generatorDynamicRouter() {\n  return new Promise(function (resolve, reject) {\n    // ajax\n    getRouterByUser().then(function (res) {\n      var rootMenu = getRootMenu(res);\n      var routers = generator(rootMenu); // console.log('routers', routers)\n\n      routers.push(notFoundRouter);\n      resolve(routers);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n};\n/**\n * 格式化 后端 结构信息并递归生成层级路由表\n *\n * @param routerMap\n * @param parent\n * @returns {*}\n */\n\nexport var generator = function generator(routerMap, parent) {\n  return routerMap.map(function (item) {\n    var currentRouter = {\n      // 路由地址 动态拼接生成如 /dashboard/workplace\n      path: item.path || \"\".concat(parent && parent.path || '', \"/\").concat(item.key),\n      // 路由名称，建议唯一\n      name: item.name || item.key || '',\n      // 该路由对应页面的 组件 优先根据组件名或者key从constantRouterComponents获取，没有则通过组件名地址查询\n      component: constantRouterComponents[item.component || item.key] || loadView(item.component),\n      hideChildrenInMenu: item.hideChildrenInMenu || false,\n      // meta: 页面标题, 菜单图标, 页面权限(供指令权限用，可去掉)\n      meta: {\n        title: item.title,\n        icon: item.icon || undefined,\n        hiddenHeaderContent: item.hiddenHeaderContent || false,\n        target: item.target\n      } // 隐藏菜单\n\n    };\n\n    if (item.hidden) {\n      currentRouter.hidden = true;\n    } // 是否设置了隐藏子菜单\n\n\n    if (item.hideChildrenInMenu) {\n      currentRouter.hideChildrenInMenu = true;\n    } // 为了防止出现后端返回结果不规范，处理有可能出现拼接出两个 反斜杠\n\n\n    if (!currentRouter.path.startsWith('http')) {\n      currentRouter.path = currentRouter.path.replace('//', '/');\n    } // 重定向\n\n\n    item.redirect && (currentRouter.redirect = item.redirect); // 是否有子菜单，并递归处理\n\n    if (item.children && item.children.length > 0) {\n      // Recursion\n      currentRouter.children = generator(item.children, currentRouter);\n    }\n\n    return currentRouter;\n  });\n};\nexport var loadView = function loadView(view) {\n  // 路由懒加载\n  return function () {\n    return import(\"@/views/\".concat(view));\n  };\n};\nexport function getRootMenu(rows) {\n  // 根菜单\n  var rootMenu = [];\n  var arr = [];\n  buildtree(rows, arr, '0');\n  arr.forEach(function (row) {\n    menus.push(row);\n  });\n  rootRouter.children = menus;\n  rootMenu.push(rootRouter);\n  return rootMenu;\n}\nexport function buildtree(list, arr, parentId) {\n  list.forEach(function (item) {\n    if (item.parentId === parentId) {\n      var child = {\n        title: item.menuName,\n        key: item.menuKey,\n        icon: item.icon,\n        hidden: item.visible === '1',\n        path: item.path && item.path.length > 0 ? item.path : undefined,\n        component: item.component,\n        redirect: item.redirect,\n        target: item.target,\n        hideChildrenInMenu: item.hiddenChildren,\n        hiddenHeaderContent: item.hiddenHeader,\n        children: []\n      };\n      buildtree(list, child.children, item.menuId);\n\n      if (child.children.length === 0) {\n        delete child.children;\n      }\n\n      arr.push(child);\n    }\n  });\n}\nvar menus = [{\n  'title': '首页',\n  'key': 'dashboard',\n  'component': 'RouteView',\n  'redirect': '/dashboard/weclome',\n  'icon': 'dashboard',\n  'hidden': true,\n  'children': [{\n    'title': '欢迎页',\n    'key': 'weclome',\n    'icon': ''\n  }]\n}];",{"version":3,"sources":["/Users/medo/Downloads/code/ruoyi-cloud-view/ruoyi-ant/src/utils/routerUtil.js"],"names":["axios","UserLayout","BasicLayout","RouteView","BlankLayout","PageView","constantRouterComponents","analysis","workplace","weclome","monitor","baseForm","stepForm","advancedForm","tableList","standardList","cardList","search","article","project","application","profileBasic","profileAdvanced","resultSucc","resultErr","error403","error404","error500","center","settings","base","security","custom","binding","notification","donateList","mifei","gnqc","notFoundRouter","path","redirect","hidden","rootRouter","getRouterByUser","url","method","dataType","generatorDynamicRouter","Promise","resolve","reject","then","res","rootMenu","getRootMenu","routers","generator","push","catch","err","routerMap","parent","map","item","currentRouter","key","name","component","loadView","hideChildrenInMenu","meta","title","icon","undefined","hiddenHeaderContent","target","startsWith","replace","children","length","view","rows","arr","buildtree","forEach","row","menus","list","parentId","child","menuName","menuKey","visible","hiddenChildren","hiddenHeader","menuId"],"mappings":"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","sourcesContent":["import { axios } from '@/utils/request'\n// eslint-disable-next-line\nimport { UserLayout, BasicLayout, RouteView, BlankLayout, PageView } from '@/layouts'\n\n// 前端路由表\nconst constantRouterComponents = {\n  // 基础页面 layout 必须引入\n  BasicLayout: BasicLayout, // 基础页面布局，包含了头部导航，侧边栏和通知栏\n  BlankLayout: BlankLayout, // 空白的布局\n  RouteView: RouteView, // 空布局，专门为了二级菜单内容区自定义\n  PageView: PageView, // 基础布局，包含了面包屑，和中间内容区 (slot)\n  UserLayout: UserLayout, // 登陆注册页面的通用布局\n\n  // 你需要动态引入的页面组件\n  analysis: () => import('@/views/dashboard/Analysis'),\n  workplace: () => import('@/views/dashboard/Workplace'),\n  weclome: () => import('@/views/dashboard/Welcome'),\n  monitor: () => import('@/views/dashboard/Monitor'),\n  baseForm: () => import('@/views/form/BasicForm'),\n  stepForm: () => import('@/views/form/stepForm/StepForm'),\n  advancedForm: () => import('@/views/form/advancedForm/AdvancedForm.vue'),\n  tableList: () => import('@/views/list/TableList'),\n  standardList: () => import('@/views/list/StandardList'),\n  cardList: () => import('@/views/list/CardList'),\n  search: () => import('@/views/list/search/SearchLayout'),\n  article: () => import('@/views/list/search/Article'),\n  project: () => import('@/views/list/search/Projects'),\n  application: () => import('@/views/list/search/Applications'),\n  profileBasic: () => import('@/views/profile/basic/Index'),\n  profileAdvanced: () => import('@/views/profile/advanced/Advanced'),\n  resultSucc: () => import('@/views/result/Success'),\n  resultErr: () => import('@/views/result/Error'),\n  error403: () => import('@/views/exception/403'),\n  error404: () => import('@/views/exception/404'),\n  error500: () => import('@/views/exception/500'),\n  center: () => import('@/views/account/center/Index'),\n  settings: () => import('@/views/account/settings/Index'),\n  base: () => import('@/views/account/settings/BaseSetting'),\n  security: () => import('@/views/account/settings/Security'),\n  custom: () => import('@/views/account/settings/Custom'),\n  binding: () => import('@/views/account/settings/Binding'),\n  notification: () => import('@/views/account/settings/Notification'),\n  donateList: () => import('@/views/others/DonateList'),\n  mifei: () => import('@/views/others/MiFei'),\n  gnqc: () => import('@/views/others/Gnqc')\n  // system\n  // userList: () => import('@/views/system/UserList'),\n  // roleList: () => import('@/views/system/RoleList'),\n  // permissionList: () => import('@/views/system/PermissionList'),\n  // deptList: () => import('@/views/system/DeptList'),\n  // dictList: () => import('@/views/system/DictList'),\n  // distList: () => import('@/views/system/DistList'),\n  // configList: () => import('@/views/system/ConfigList'),\n  // ossList: () => import('@/views/system/OssList'),\n  // monitor\n  // operLogList: () => import('@/views/monitor/OperLogList'),\n  // loginLogList: () => import('@/views/monitor/LoginLogList'),\n  // gen\n  // genList: () => import('@/views/gen/GenList'),\n  // genEdit: () => import('@/views/gen/GenEdit')\n  // ...more\n}\n\n// 前端未找到页面路由（固定不用改）\nconst notFoundRouter = {\n  path: '*', redirect: '/404', hidden: true\n}\n\n// 根级菜单\nconst rootRouter = {\n  'title': '首页',\n  'key': '',\n  'name': 'index',\n  'component': 'BasicLayout',\n  'redirect': '/dashboard/weclome',\n  'children': []\n}\n\n/**\n * 获取后端路由信息的 axios API\n * @returns {Promise}\n */\nexport const getRouterByUser = () => {\n  return axios({\n    url: '/system/menu/user',\n    method: 'get',\n    dataType: 'json'\n    /* headers: {\n      'Access-Token': 'xxx'\n    }\n    */\n  })\n}\n\n/**\n * 获取路由菜单信息\n *\n * 1. 调用 getRouterByUser() 访问后端接口获得路由结构数组\n *    @see https://github.com/sendya/ant-design-pro-vue/blob/feature/dynamic-menu/public/dynamic-menu.json\n * 2. 调用\n * @returns {Promise<any>}\n */\nexport const generatorDynamicRouter = () => {\n  return new Promise((resolve, reject) => {\n    // ajax\n    getRouterByUser().then(res => {\n      const rootMenu = getRootMenu(res)\n      const routers = generator(rootMenu)\n      // console.log('routers', routers)\n      routers.push(notFoundRouter)\n      resolve(routers)\n    }).catch(err => {\n      reject(err)\n    })\n  })\n}\n\n/**\n * 格式化 后端 结构信息并递归生成层级路由表\n *\n * @param routerMap\n * @param parent\n * @returns {*}\n */\nexport const generator = (routerMap, parent) => {\n  return routerMap.map(item => {\n    const currentRouter = {\n      // 路由地址 动态拼接生成如 /dashboard/workplace\n      path: item.path || `${parent && parent.path || ''}/${item.key}`,\n      // 路由名称，建议唯一\n      name: item.name || item.key || '',\n      // 该路由对应页面的 组件 优先根据组件名或者key从constantRouterComponents获取，没有则通过组件名地址查询\n      component: constantRouterComponents[item.component || item.key] || loadView(item.component),\n      hideChildrenInMenu: item.hideChildrenInMenu || false,\n      // meta: 页面标题, 菜单图标, 页面权限(供指令权限用，可去掉)\n      meta: { title: item.title, icon: item.icon || undefined, hiddenHeaderContent: item.hiddenHeaderContent || false, target: item.target }\n    }\n    // 隐藏菜单\n    if (item.hidden) {\n      currentRouter.hidden = true\n    }\n    // 是否设置了隐藏子菜单\n    if (item.hideChildrenInMenu) {\n      currentRouter.hideChildrenInMenu = true\n    }\n    // 为了防止出现后端返回结果不规范，处理有可能出现拼接出两个 反斜杠\n    if (!currentRouter.path.startsWith('http')) {\n      currentRouter.path = currentRouter.path.replace('//', '/')\n    }\n    // 重定向\n    item.redirect && (currentRouter.redirect = item.redirect)\n    // 是否有子菜单，并递归处理\n    if (item.children && item.children.length > 0) {\n      // Recursion\n      currentRouter.children = generator(item.children, currentRouter)\n    }\n    return currentRouter\n  })\n}\nexport const loadView = (view) => { // 路由懒加载\n  return () => import(`@/views/${view}`)\n}\n\nexport function getRootMenu (rows) {\n  // 根菜单\n  const rootMenu = []\n  const arr = []\n  buildtree(rows, arr, '0')\n  arr.forEach(row => {\n    menus.push(row)\n  })\n  rootRouter.children = menus\n  rootMenu.push(rootRouter)\n  return rootMenu\n}\n\nexport function buildtree (list, arr, parentId) {\n  list.forEach(item => {\n    if (item.parentId === parentId) {\n      var child = {\n        title: item.menuName,\n        key: item.menuKey,\n        icon: item.icon,\n        hidden: item.visible === '1',\n        path: item.path && item.path.length > 0 ? item.path : undefined,\n        component: item.component,\n        redirect: item.redirect,\n        target: item.target,\n        hideChildrenInMenu: item.hiddenChildren,\n        hiddenHeaderContent: item.hiddenHeader,\n        children: []\n      }\n      buildtree(list, child.children, item.menuId)\n      if (child.children.length === 0) {\n        delete child.children\n      }\n      arr.push(child)\n    }\n  })\n}\n\nconst menus = [\n  {\n    'title': '首页',\n    'key': 'dashboard',\n    'component': 'RouteView',\n    'redirect': '/dashboard/weclome',\n    'icon': 'dashboard',\n    'hidden': true,\n    'children': [\n      {\n        'title': '欢迎页',\n        'key': 'weclome',\n        'icon': ''\n      }\n    ]\n  }\n]\n"]}]}